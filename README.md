# YouTube Comments Analyzer для Gonka Wallets

Скрипт для анализа комментариев YouTube видео с автоматическим поиском и фильтрацией адресов кошельков Gonka Chain.

## Описание

Этот проект позволяет:
- Собирать все комментарии с YouTube видео (включая ответы)
- Находить в комментариях адреса кошельков Gonka
- Фильтровать дубликаты кошельков (сохраняется только первый по дате публикации)
- Генерировать детальную статистику по найденным кошелькам
- Экспортировать данные в CSV файлы

## Возможности

### Основные функции
- **Сбор комментариев** - получение всех комментариев и ответов с YouTube видео через API
- **Распознавание кошельков** - автоматический поиск адресов формата `gonka1...`
- **Фильтрация дубликатов** - если кошелек встречается несколько раз, сохраняется только самый ранний комментарий
- **Статистика** - подробный отчет о количестве упоминаний каждого кошелька
- **Экспорт данных** - сохранение результатов в удобном CSV формате

### Формат кошельков Gonka

Скрипт распознает кошельки со следующими характеристиками:
- Начинаются с префикса `gonka1`
- Общая длина адреса: 40-45 символов
- Содержат только строчные буквы (a-z) и цифры (0-9)

Пример: `gonka1qs6csu5ms8q0a3u32qwtvpqfxrpnqexdy95k6m`

## Требования

```
google-api-python-client
pandas
```

## Установка

1. Клонируйте репозиторий:
```bash
git clone <your-repo-url>
cd <repo-name>
```

2. Установите зависимости:
```bash
pip install google-api-python-client pandas
```

3. Получите API ключ YouTube Data API v3:
   - Перейдите в [Google Cloud Console](https://console.cloud.google.com/)
   - Создайте новый проект или выберите существующий
   - Включите YouTube Data API v3
   - Создайте учетные данные (API ключ)

## Настройка

Откройте файл `analysis_comments.py` и укажите:

```python
api_key = "ВАШ_API_КЛЮЧ"  # YouTube Data API ключ
video_id = "ID_ВИДЕО"      # ID YouTube видео для анализа
```

**Как найти ID видео:**
Из URL видео `https://www.youtube.com/watch?v=VpA4KfX68rI` берем часть после `v=` → `VpA4KfX68rI`

## Использование

Запустите скрипт:

```bash
python analysis_comments.py
```

## Результаты работы

Скрипт создает два CSV файла:

### 1. `comments.csv`
Полный список всех комментариев с видео:
- `author` - имя автора комментария
- `text` - текст комментария
- `likes` - количество лайков
- `published` - дата и время публикации

### 2. `comments_with_wallets.csv`
Отфильтрованный список комментариев с уникальными кошельками:
- `author` - имя автора
- `text` - текст комментария
- `likes` - количество лайков
- `published` - дата публикации
- `wallet` - найденный адрес кошелька

**Особенности:**
- Комментарии отсортированы по дате публикации
- Каждый кошелек представлен только один раз (самым ранним комментарием)
- Дубликаты автоматически исключаются

## Пример вывода в консоль

```
Готово! Экспорт в comments.csv

============================================================
ОТЧЕТ ПО КОШЕЛЬКАМ
============================================================

Всего найдено уникальных кошельков: 5
Комментариев с кошельками сохранено: 5

Статистика по кошелькам:
------------------------------------------------------------
Кошелек gonka1qs6csu5ms8q0a3u32qwtvpqfxrpnqexdy95k6m встречается 3 раз в комментариях
  └─ Оставлен комментарий от 2024-01-15T10:30:00Z (самый ранний)
  └─ Проигнорировано дубликатов: 2

Кошелек gonka1a3jpdl4epdts64gns3a3fy9hjv2n9e3v7kxx0e встречается 1 раз в комментариях

============================================================
Файл с уникальными кошельками сохранен: comments_with_wallets.csv
============================================================
```

## Логика работы

1. **Сбор данных** - скрипт получает все комментарии через YouTube API с пагинацией
2. **Поиск кошельков** - применяется регулярное выражение для поиска адресов формата Gonka
3. **Группировка** - комментарии группируются по найденным кошелькам
4. **Фильтрация дубликатов** - для каждого кошелька выбирается самый ранний комментарий
5. **Сортировка** - результаты сортируются по дате публикации
6. **Экспорт** - данные сохраняются в CSV файлы
7. **Отчет** - выводится статистика по всем найденным кошелькам

## Ограничения

- YouTube Data API имеет квоту (10,000 единиц в день по умолчанию)
- Один запрос комментариев = ~1-5 единиц квоты
- Для видео с большим количеством комментариев может потребоваться время

## Возможные улучшения

- [ ] Добавить поддержку анализа нескольких видео
- [ ] Экспорт в другие форматы (Excel, JSON)
- [ ] Визуализация статистики
- [ ] Проверка валидности кошельков через API блокчейна
- [ ] Уведомления при обнаружении новых кошельков

## Автор

Проект создан для анализа активности сообщества Gonka Chain

## Лицензия

MIT License
